{%- macro text_copyright() %}
<p>
  <i>Stanislav Ovchinnikov</i>
</p>
{%- endmacro %}


{%- macro text_gdpr() %}
  <!-- Rules consent -->
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
  <script>

    window.addEventListener("load", function() {
      window.cookieconsent.initialise({
        "palette": {
          "popup": {
            "background": "#d1ecf1",
            "text": "#0c5460"
          },
          "button": {
            "background": "#8cb48c"
          }
        },
        "theme": "classic",
        "showLink": false,
        "content": {
          "message": 'By using our site, you acknowledge that you have read and understand our <a href="{{ app_root }}/p/tos">Terms of Service</a>.'
        }
      })
    });

  </script>
{%- endmacro %}


{%- macro text_debug() %}
{%- if app_debug %}
<pre id="debug">
{{ debug }}</pre>
<div id="jdebug">
</div>
{%- endif %}
{%- endmacro %}


{%- macro text_flashes() %}
{%- with messages = get_flashed_messages(with_categories=true) %}
{%- if messages %}
<div class="flashes">
{%- for category, message in messages %}
  <div class="alert alert-{{ category }}" role="alert">{{ message }}</div>
{%- endfor %}
</div>
{%- endif %}
{%- endwith %}
{%- endmacro %}


{%- macro text_status() %}
<!-- Loading status -->
<div id="loading" class="alert alert-info" role="alert" style="position: fixed; z-index: 1000; bottom: 20px; right: 20px; display: none;">
  Loading...
</div>
{%- endmacro %}


{%- macro text_ia_modal() %}
<!-- Two Interactive modals -->
<div class="modal fade interactive" id="iaModal1" tabindex="-1" role="dialog" aria-labelledby="iaModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="fa fa-close"></i></span>
        </button>
      </div>

      <div class="modal-body">
      </div>

    </div>
  </div>
</div>

<div class="modal fade interactive" id="iaModal2" tabindex="-1" role="dialog" aria-labelledby="iaModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="fa fa-close"></i></span>
        </button>
      </div>

      <div class="modal-body">
      </div>

    </div>
  </div>
</div>
{%- endmacro %}


{%- macro text_info_modal() %}
<!-- Info modal -->
<div class="modal fade" id="InfoModal" tabindex="-1" role="dialog" aria-labelledby="InfoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title" id="modal_title"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true"><i class="fa fa-close"></i></span>
        </button>
      </div>

      <div class="modal-body">
        <p id="modal_message"></p>
{%- if app_debug %}
        <p id="modal_debug"></p>
{%- endif %}
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-primary" data-dismiss="modal">Close</button>
      </div>

    </div>
  </div>
</div>
{%- endmacro %}


{%- macro text_brand() %}
  <a target="_self" href="{{ app_root }}/" class="navbar-brand">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 612 612" width="28" height="28" focusable="false" role="img" class="d-block">
      <title>Index</title>
      <g fill="#fff">
        <rect x="10" y="10" width="602" height="602" stroke="white" fill="transparent" stroke-width="15" />
        <text id="BV" font-family="Arial" font-size="350" font-weight="light" letter-spacing="2">
          <tspan x="270" y="446">i</tspan>
        </text>
      </g>
    </svg>
  </a>
{%- endmacro %}


{%- macro text_search() %}
  <form class="form-inline">
    <input type="text" placeholder="Search" class="mr-sm-2 form-control form-control-sm">
    <button type="submit" class="btn my-2 my-sm-0 mr-4 btn-secondary btn-sm">Search</button>
  </form>
{%- endmacro %}


{%- macro text_navbar() %}
<nav class="navbar navbar-dark bg-info navbar-expand-sm">
  {{ text_brand() }}

  <button type="button" aria-label="Toggle navigation" aria-controls="nav-collapse" aria-expanded="false" class="navbar-toggler">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div id="nav-collapse" class="navbar-collapse collapse" style="display: none;">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="{{ app_root }}/pages">Pages</a>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="favorites" id="dropdown01" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          Favorites
        </a>
        <div class="dropdown-menu" aria-labelledby="dropdown01">
{%- if app_favorites %}
{%- for name, url in app_favorites %}
          <a class="dropdown-item" href="{{ url }}">{{ name }}</a>
{%- endfor %}
          <div class="dropdown-divider"></div>
{%- endif %}
          <a class="dropdown-item" href="{{ url_for('favorite_add') }}" data-toggle="modal" data-target="#iaModal1" data-dismiss="modal" data-reload_after_close="location">
            Add current page
          </a>
          <a class="dropdown-item" href="{{ url_for('favorites') }}">Manage favorites</a>
        </div>
      </li>
    </ul>

    <ul class="navbar-nav ml-auto">
{%- if name %}
      <div class="dropdown" id="user_section">
        <a class="nav-link dropdown-toggle" href="{{ app_root }}/profile" id="dropdown02" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <b>{{ name }}</b>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdown02">
          <a class="dropdown-item" href="{{ app_root }}/profile" id="profile">Profile</a>
          <a class="dropdown-item" href="{{ app_root }}/logout" id="logout">Log out</a>
        </div>
      </div>
{%- else %}
      <div class="row" id="anonymous_section">
        <!--a class="nav-link" href="{{ url_for('user_signin') }}"-->
        <a class="nav-link" href="{{ url_for('user_signin') }}" data-toggle="modal" data-target="#iaModal1" data-dismiss="modal" data-reload_after_close="location">
          <i class="fa fa-sign-in"></i> Sign in
        </a>
        <a class="nav-link pl-0" href="{{ url_for('user_signup') }}" data-toggle="modal" data-target="#iaModal1" data-dismiss="modal" data-reload_after_close="location">
          <i class="fa fa-user-plus"></i> Sign up
        </a>
      </div>
{%- endif %}
    </ul>
  </div>
</nav>
{%- endmacro %}
